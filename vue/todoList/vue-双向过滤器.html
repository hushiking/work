<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>vue双向过滤器</title>
  <script src="lib/vue.js"></script>
</head>
<body>
  <div id="box">
    <input type="text" v-model="value">
    {{value | currency}}
  </div>
  <script>
    /*Vue.filter('currency', {
      read: function(val) {
        return '$'+val.toFixed(2)
      },
      write: function(val, oldVal) {
        var number = +val.replace(/[^\d.]/g, '')
        return isNaN(number) ? 0 : parseFloat(number.toFixed(2))
      }
    })*/
    Vue.filter('currency', function(val) {
      if (!val) return ''
      return isNaN(val) ? 0 : parseFloat(val).toFixed(2)
    })
    new Vue({
      el: '#box',
      data: {
        value: ''
      }
    })
  </script>
</body>
</html>
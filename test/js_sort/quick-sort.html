<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>快速排序JS实现</title>
</head>
<body>
  <script>
    function quickSort(arr, left, right) {
      console.time('1.快速排序耗时')
      if (Object.prototype.toString.call(arr).slice(8, -1) === 'Array' && typeof left === 'number' && typeof right === 'number') {
        if (left < right) {
          var key = arr[right], i = left - 1, temp
          for (var j = left; j <= right; j++) {
            if (arr[j] <= key) {
              i++;
              temp = arr[i]
              arr[i] = arr[j]
              arr[j] = temp
            }
          }
          quickSort(arr, left, i - 1)
          quickSort(arr, i + 1, right)
        }
        console.timeEnd('1.快速排序耗时')
        return arr
      } else {
        return 'array is not an Array or left or right is not a number'
      }
    }
    var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]
    console.log(quickSort(arr, 0, arr.length - 1))

    function quickSort2(arr) {
      console.time('2.快速排序耗时')
      if (arr.length <= 1) {
        return arr
      }
      var pivotIndex = Math.floor(arr.length / 2)
      var pivot = arr.splice(pivotIndex, 1)[0]
      var left = []
      var right = []
      for (var i = 0; i < arr.length; i++) {
        if (arr[i] < pivot) {
          left.push(arr[i])
        } else {
          right.push(arr[i])
        }
      }
      console.timeEnd('2.快速排序耗时')
      return quickSort2(left).concat([pivot], quickSort2(right))
    }
    var arr=[3,44,38,5,47,15,36,26,27,2,46,4,19,50,48]
    console.log(quickSort2(arr))
  </script>
</body>
</html>